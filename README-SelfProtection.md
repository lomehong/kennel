# Kennelè‡ªæˆ‘é˜²æŠ¤æœºåˆ¶ ğŸ›¡ï¸

[![Go Version](https://img.shields.io/badge/Go-1.16+-blue.svg)](https://golang.org)
[![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20Linux%20%7C%20macOS-green.svg)](https://github.com/lomehong/kennel)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Build Status](https://img.shields.io/badge/Build-Passing-brightgreen.svg)](https://github.com/lomehong/kennel)

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

Kennelè‡ªæˆ‘é˜²æŠ¤æœºåˆ¶æ˜¯ä¸ºç»ˆç«¯å®‰å…¨ç®¡ç†ç³»ç»Ÿè®¾è®¡çš„ä¼ä¸šçº§è‡ªæˆ‘ä¿æŠ¤è§£å†³æ–¹æ¡ˆï¼Œæä¾›å…¨æ–¹ä½çš„ç³»ç»Ÿé˜²æŠ¤èƒ½åŠ›ï¼Œç¡®ä¿ä¸»ç¨‹åºå’Œå…³é”®æ’ä»¶åœ¨å„ç§å¨èƒç¯å¢ƒä¸‹çš„æŒç»­ç¨³å®šè¿è¡Œã€‚

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ”’ **å¤šå±‚é˜²æŠ¤**: è¿›ç¨‹ã€æ–‡ä»¶ã€æ³¨å†Œè¡¨ã€æœåŠ¡å››å±‚å…¨è¦†ç›–é˜²æŠ¤
- ğŸš€ **é«˜æ€§èƒ½**: ä½èµ„æºæ¶ˆè€—ï¼Œå¼‚æ­¥å¤„ç†ï¼Œæ™ºèƒ½ç›‘æ§
- ğŸ”§ **çµæ´»é…ç½®**: æ”¯æŒå¤šç§é˜²æŠ¤çº§åˆ«å’Œè¯¦ç»†é…ç½®é€‰é¡¹
- ğŸŒ **è·¨å¹³å°**: Windowså®Œæ•´æ”¯æŒï¼ŒLinux/macOSåŸºç¡€æ”¯æŒ
- ğŸ“Š **å¯ç›‘æ§**: å®Œæ•´çš„APIæ¥å£ã€Webç•Œé¢å’Œäº‹ä»¶ç³»ç»Ÿ
- ğŸ› ï¸ **æ˜“é›†æˆ**: ç®€å•çš„é›†æˆæ–¹å¼å’Œä¸°å¯Œçš„ç¤ºä¾‹ä»£ç 

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### é˜²æŠ¤å±‚æ¬¡æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åº”ç”¨ç¨‹åºå±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  è‡ªæˆ‘é˜²æŠ¤ç®¡ç†å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è¿›ç¨‹é˜²æŠ¤   â”‚  æ–‡ä»¶é˜²æŠ¤   â”‚ æ³¨å†Œè¡¨é˜²æŠ¤  â”‚  æœåŠ¡é˜²æŠ¤   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ç³»ç»ŸAPIå±‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Windows API â”‚ File System â”‚  Registry   â”‚  Services   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ“ä½œç³»ç»Ÿå±‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—ç»„ç»‡ç»“æ„
```
pkg/core/selfprotect/
â”œâ”€â”€ æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ types.go           # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ protection.go      # é˜²æŠ¤ç®¡ç†å™¨
â”‚   â”œâ”€â”€ config.go          # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ integration.go     # é›†æˆæœåŠ¡
â”œâ”€â”€ é˜²æŠ¤å®ç°
â”‚   â”œâ”€â”€ process_protector_*.go   # è¿›ç¨‹é˜²æŠ¤
â”‚   â”œâ”€â”€ file_protector.go        # æ–‡ä»¶é˜²æŠ¤
â”‚   â”œâ”€â”€ registry_protector_*.go  # æ³¨å†Œè¡¨é˜²æŠ¤
â”‚   â””â”€â”€ service_protector_*.go   # æœåŠ¡é˜²æŠ¤
â”œâ”€â”€ æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ interfaces.go      # é˜²æŠ¤æ¥å£
â”‚   â””â”€â”€ disabled.go        # ç¦ç”¨å®ç°
â””â”€â”€ APIæœåŠ¡
    â””â”€â”€ api.go             # REST APIå’ŒWebç•Œé¢
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¼–è¯‘å¯ç”¨è‡ªæˆ‘é˜²æŠ¤

```bash
# å¯ç”¨è‡ªæˆ‘é˜²æŠ¤åŠŸèƒ½ç¼–è¯‘
go build -tags="selfprotect" -o bin/agent.exe cmd/agent/main.go

# ä½¿ç”¨é«˜çº§æ„å»ºè„šæœ¬
.\build-with-protection.ps1 -EnableProtection -Target all -Release
```

### 2. é…ç½®è‡ªæˆ‘é˜²æŠ¤

åœ¨ `config.yaml` ä¸­æ·»åŠ è‡ªæˆ‘é˜²æŠ¤é…ç½®ï¼š

```yaml
# è‡ªæˆ‘é˜²æŠ¤é…ç½®
self_protection:
  # å¯ç”¨è‡ªæˆ‘é˜²æŠ¤
  enabled: true
  # é˜²æŠ¤çº§åˆ«ï¼šnone, basic, standard, strict
  level: "basic"
  # ç´§æ€¥ç¦ç”¨æ–‡ä»¶
  emergency_disable: ".emergency_disable"
  # æ£€æŸ¥é—´éš”
  check_interval: "5s"

  # è¿›ç¨‹é˜²æŠ¤
  process_protection:
    enabled: true
    protected_processes:
      - "agent.exe"
      - "dlp.exe"
      - "audit.exe"
      - "device.exe"
    prevent_debug: true
    prevent_dump: true

  # æ–‡ä»¶é˜²æŠ¤
  file_protection:
    enabled: true
    protected_files:
      - "config.yaml"
      - "agent.exe"
    protected_dirs:
      - "app"
    backup_enabled: true

  # æ³¨å†Œè¡¨é˜²æŠ¤ï¼ˆWindowsï¼‰
  registry_protection:
    enabled: true
    protected_keys:
      - "HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\KennelAgent"

  # æœåŠ¡é˜²æŠ¤ï¼ˆWindowsï¼‰
  service_protection:
    enabled: true
    service_name: "KennelAgent"
    auto_restart: true
```

### 3. é›†æˆåˆ°åº”ç”¨ç¨‹åº

```go
package main

import (
    "github.com/lomehong/kennel/pkg/core/selfprotect"
    "github.com/hashicorp/go-hclog"
)

func main() {
    logger := hclog.Default()
    
    // åˆ›å»ºé˜²æŠ¤é›†æˆå™¨
    integrator, err := selfprotect.NewProtectionIntegrator("config.yaml", logger)
    if err != nil {
        logger.Error("åˆ›å»ºé˜²æŠ¤é›†æˆå™¨å¤±è´¥", "error", err)
        return
    }
    
    // åˆå§‹åŒ–é˜²æŠ¤
    if err := integrator.Initialize(); err != nil {
        logger.Error("å¯åŠ¨è‡ªæˆ‘é˜²æŠ¤å¤±è´¥", "error", err)
        // æ³¨æ„ï¼šé˜²æŠ¤å¤±è´¥ä¸åº”é˜»æ­¢ç¨‹åºå¯åŠ¨
    }
    
    // ä¼˜é›…å…³é—­
    defer integrator.Shutdown()
    
    // ä½ çš„åº”ç”¨ç¨‹åºé€»è¾‘...
    runApplication()
}
```

### 4. è¿è¡Œæµ‹è¯•éªŒè¯

```bash
# è¿è¡Œè‡ªæˆ‘é˜²æŠ¤åŠŸèƒ½æµ‹è¯•
go run -tags="selfprotect" cmd/selfprotect-test/main.go -verbose

# è¿è¡Œé›†æˆç¤ºä¾‹
go run -tags="selfprotect" examples/selfprotect-integration/main.go
```

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

### ğŸ” è¿›ç¨‹é˜²æŠ¤
- **å®æ—¶ç›‘æ§**: ç›‘æ§å—ä¿æŠ¤è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€
- **è‡ªåŠ¨é‡å¯**: æ£€æµ‹åˆ°è¿›ç¨‹ç»ˆæ­¢æ—¶è‡ªåŠ¨é‡å¯
- **è°ƒè¯•é˜²æŠ¤**: é˜²æ­¢è¿›ç¨‹è¢«è°ƒè¯•å™¨é™„åŠ 
- **å†…å­˜ä¿æŠ¤**: é˜²æ­¢è¿›ç¨‹å†…å­˜è¢«è½¬å‚¨
- **æƒé™æå‡**: è‡ªåŠ¨æå‡å¿…è¦çš„ç³»ç»Ÿæƒé™

### ğŸ“ æ–‡ä»¶é˜²æŠ¤
- **æ–‡ä»¶ç›‘æ§**: å®æ—¶ç›‘æ§æ–‡ä»¶ä¿®æ”¹ã€åˆ é™¤ã€é‡å‘½å
- **å®Œæ•´æ€§æ£€æŸ¥**: MD5å’ŒSHA256åŒé‡æ ¡éªŒ
- **è‡ªåŠ¨å¤‡ä»½**: è‡ªåŠ¨å¤‡ä»½å—ä¿æŠ¤çš„æ–‡ä»¶
- **è‡ªåŠ¨æ¢å¤**: æ£€æµ‹åˆ°ç¯¡æ”¹æ—¶è‡ªåŠ¨æ¢å¤
- **ç›®å½•ä¿æŠ¤**: æ”¯æŒæ•´ä¸ªç›®å½•çš„é€’å½’ä¿æŠ¤

### ğŸ—‚ï¸ æ³¨å†Œè¡¨é˜²æŠ¤ï¼ˆWindowsï¼‰
- **æ³¨å†Œè¡¨ç›‘æ§**: ç›‘æ§å…³é”®æ³¨å†Œè¡¨é¡¹å˜æ›´
- **è‡ªåŠ¨å¤‡ä»½**: å¤‡ä»½é‡è¦æ³¨å†Œè¡¨é¡¹
- **è‡ªåŠ¨æ¢å¤**: æ£€æµ‹åˆ°ç¯¡æ”¹æ—¶è‡ªåŠ¨æ¢å¤
- **å¤šæ ¹é”®æ”¯æŒ**: æ”¯æŒHKLMã€HKCUç­‰å¤šä¸ªæ ¹é”®

### âš™ï¸ æœåŠ¡é˜²æŠ¤ï¼ˆWindowsï¼‰
- **æœåŠ¡ç›‘æ§**: ç›‘æ§æœåŠ¡çŠ¶æ€å˜åŒ–
- **è‡ªåŠ¨é‡å¯**: æœåŠ¡è¢«åœæ­¢æ—¶è‡ªåŠ¨é‡å¯
- **é˜²æ­¢ç¦ç”¨**: é˜²æ­¢æœåŠ¡è¢«æ¶æ„ç¦ç”¨
- **çŠ¶æ€æ£€æŸ¥**: å®šæœŸæ£€æŸ¥æœåŠ¡è¿è¡ŒçŠ¶æ€

## ğŸ”§ é…ç½®é€‰é¡¹

### é˜²æŠ¤çº§åˆ«

| çº§åˆ« | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `none` | æ— é˜²æŠ¤ | å¼€å‘æµ‹è¯•ç¯å¢ƒ |
| `basic` | åŸºç¡€é˜²æŠ¤ | ä¸€èˆ¬ç”Ÿäº§ç¯å¢ƒï¼ˆæ¨èï¼‰ |
| `standard` | æ ‡å‡†é˜²æŠ¤ | é«˜å®‰å…¨è¦æ±‚ç¯å¢ƒ |
| `strict` | ä¸¥æ ¼é˜²æŠ¤ | æé«˜å®‰å…¨è¦æ±‚ç¯å¢ƒ |

### ç™½åå•é…ç½®

```yaml
whitelist:
  enabled: true
  # è¿›ç¨‹ç™½åå•
  processes:
    - "taskmgr.exe"
    - "procexp.exe"
  # ç”¨æˆ·ç™½åå•
  users:
    - "SYSTEM"
    - "Administrator"
  # ç­¾åç™½åå•
  signatures:
    - "Microsoft Corporation"
```

### ç´§æ€¥ç¦ç”¨æœºåˆ¶

```bash
# æ–¹æ³•1: åˆ›å»ºç´§æ€¥ç¦ç”¨æ–‡ä»¶
echo "emergency disable" > .emergency_disable

# æ–¹æ³•2: ä¿®æ”¹é…ç½®æ–‡ä»¶
# å°† enabled: false

# æ–¹æ³•3: ä½¿ç”¨APIæ¥å£
curl -X POST http://localhost:8080/api/protection/disable \
  -H "Content-Type: application/json" \
  -d '{"reason": "maintenance", "temporary": true}'
```

## ğŸ“Š ç›‘æ§å’Œç®¡ç†

### REST APIæ¥å£

```bash
# è·å–é˜²æŠ¤çŠ¶æ€
GET /api/protection/status

# è·å–é˜²æŠ¤é…ç½®
GET /api/protection/config

# è·å–é˜²æŠ¤äº‹ä»¶
GET /api/protection/events?page=1&limit=20

# è·å–é˜²æŠ¤ç»Ÿè®¡
GET /api/protection/stats

# ç”Ÿæˆé˜²æŠ¤æŠ¥å‘Š
GET /api/protection/report

# å¥åº·æ£€æŸ¥
GET /api/protection/health
```

### Webç®¡ç†ç•Œé¢

è®¿é—® `http://localhost:8080/protection` æŸ¥çœ‹Webç®¡ç†ç•Œé¢ï¼š

- **ä»ªè¡¨æ¿**: é˜²æŠ¤çŠ¶æ€æ¦‚è§ˆ
- **äº‹ä»¶ç®¡ç†**: é˜²æŠ¤äº‹ä»¶æŸ¥è¯¢å’Œåˆ†æ
- **é…ç½®ç®¡ç†**: é˜²æŠ¤é…ç½®æŸ¥çœ‹å’Œä¿®æ”¹
- **å¥åº·ç›‘æ§**: ç³»ç»Ÿå¥åº·çŠ¶æ€ç›‘æ§

### å‘½ä»¤è¡Œå·¥å…·

```bash
# æŸ¥çœ‹é˜²æŠ¤çŠ¶æ€
.\bin\agent.exe protection status

# æŸ¥çœ‹é˜²æŠ¤äº‹ä»¶
.\bin\agent.exe protection events --recent

# ç”Ÿæˆé˜²æŠ¤æŠ¥å‘Š
.\bin\agent.exe protection report --format json

# è¿è¡Œå¥åº·æ£€æŸ¥
.\bin\agent.exe protection health
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### åŠŸèƒ½æµ‹è¯•

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
go run -tags="selfprotect" cmd/selfprotect-test/main.go -verbose

# æµ‹è¯•ç»“æœç¤ºä¾‹
Kennelè‡ªæˆ‘é˜²æŠ¤æµ‹è¯•å·¥å…· v1.0.0
=====================================

1. æµ‹è¯•é…ç½®åŠ è½½
   âœ“ é…ç½®åŠ è½½æµ‹è¯•é€šè¿‡

2. æµ‹è¯•é˜²æŠ¤ç®¡ç†å™¨åˆå§‹åŒ–
   âœ“ é˜²æŠ¤ç®¡ç†å™¨åˆå§‹åŒ–æµ‹è¯•é€šè¿‡

3. æµ‹è¯•é˜²æŠ¤ç»„ä»¶
   âœ“ é˜²æŠ¤ç»„ä»¶æµ‹è¯•é€šè¿‡

4. æµ‹è¯•ç´§æ€¥ç¦ç”¨æœºåˆ¶
   âœ“ ç´§æ€¥ç¦ç”¨æœºåˆ¶æµ‹è¯•é€šè¿‡

5. æµ‹è¯•é˜²æŠ¤äº‹ä»¶
   âœ“ é˜²æŠ¤äº‹ä»¶æµ‹è¯•é€šè¿‡

âœ“ æ‰€æœ‰è‡ªæˆ‘é˜²æŠ¤æµ‹è¯•é€šè¿‡
```

### æ€§èƒ½æµ‹è¯•

```bash
# æ€§èƒ½åŸºå‡†æµ‹è¯•
go test -tags="selfprotect" -bench=. ./pkg/core/selfprotect/...

# å†…å­˜ä½¿ç”¨ç›‘æ§
go run -tags="selfprotect" examples/performance-monitor/main.go
```

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### èµ„æºæ¶ˆè€—
- **å†…å­˜å ç”¨**: +5-10MBï¼ˆé˜²æŠ¤çŠ¶æ€å’Œäº‹ä»¶ç¼“å­˜ï¼‰
- **CPUå¼€é”€**: +2-5%ï¼ˆç›‘æ§å’Œæ£€æŸ¥ï¼‰
- **ç£ç›˜I/O**: è½»å¾®å¢åŠ ï¼ˆå¤‡ä»½å’Œæ—¥å¿—ï¼‰
- **ç½‘ç»œå½±å“**: æ— 

### æ€§èƒ½ä¼˜åŒ–
- **å¼‚æ­¥å¤„ç†**: æ‰€æœ‰é˜²æŠ¤æ£€æŸ¥éƒ½åœ¨åå°å¼‚æ­¥æ‰§è¡Œ
- **æ™ºèƒ½é—´éš”**: å¯é…ç½®çš„æ£€æŸ¥é—´éš”ï¼Œå¹³è¡¡æ€§èƒ½å’Œå®æ—¶æ€§
- **äº‹ä»¶ç¼“å­˜**: é™åˆ¶äº‹ä»¶æ•°é‡ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼
- **æ‰¹é‡æ“ä½œ**: æ‰¹é‡å¤„ç†æ–‡ä»¶å’Œæ³¨å†Œè¡¨æ“ä½œ

## ğŸŒ å¹³å°å…¼å®¹æ€§

### Windowså¹³å°ï¼ˆå®Œæ•´æ”¯æŒï¼‰
- âœ… è¿›ç¨‹é˜²æŠ¤ï¼ˆå®Œæ•´å®ç°ï¼‰
- âœ… æ–‡ä»¶é˜²æŠ¤ï¼ˆå®Œæ•´å®ç°ï¼‰
- âœ… æ³¨å†Œè¡¨é˜²æŠ¤ï¼ˆå®Œæ•´å®ç°ï¼‰
- âœ… æœåŠ¡é˜²æŠ¤ï¼ˆå®Œæ•´å®ç°ï¼‰
- ğŸ“‹ æ”¯æŒç‰ˆæœ¬ï¼šWindows 7, 8, 10, 11, Server 2008+

### Linuxå¹³å°ï¼ˆåŸºç¡€æ”¯æŒï¼‰
- âš ï¸ è¿›ç¨‹é˜²æŠ¤ï¼ˆå¯æ‰©å±•ï¼‰
- âœ… æ–‡ä»¶é˜²æŠ¤ï¼ˆå®Œæ•´å®ç°ï¼‰
- âŒ æ³¨å†Œè¡¨é˜²æŠ¤ï¼ˆä¸é€‚ç”¨ï¼‰
- âš ï¸ æœåŠ¡é˜²æŠ¤ï¼ˆå¯æ‰©å±•ï¼‰

### macOSå¹³å°ï¼ˆåŸºç¡€æ”¯æŒï¼‰
- âš ï¸ è¿›ç¨‹é˜²æŠ¤ï¼ˆå¯æ‰©å±•ï¼‰
- âœ… æ–‡ä»¶é˜²æŠ¤ï¼ˆå®Œæ•´å®ç°ï¼‰
- âŒ æ³¨å†Œè¡¨é˜²æŠ¤ï¼ˆä¸é€‚ç”¨ï¼‰
- âš ï¸ æœåŠ¡é˜²æŠ¤ï¼ˆå¯æ‰©å±•ï¼‰

## ğŸ”’ å®‰å…¨è€ƒè™‘

### å¨èƒæ¨¡å‹
- **æ¶æ„è¿›ç¨‹ç»ˆæ­¢**: è‡ªåŠ¨é‡å¯è¢«ç»ˆæ­¢çš„è¿›ç¨‹
- **æ–‡ä»¶ç¯¡æ”¹æ”»å‡»**: è‡ªåŠ¨æ¢å¤è¢«ä¿®æ”¹çš„æ–‡ä»¶
- **é…ç½®ç ´å**: è‡ªåŠ¨æ¢å¤è¢«ç ´åçš„é…ç½®
- **æœåŠ¡æ”»å‡»**: è‡ªåŠ¨é‡å¯è¢«åœæ­¢çš„æœåŠ¡
- **è°ƒè¯•æ”»å‡»**: é˜²æ­¢è¿›ç¨‹è¢«è°ƒè¯•å™¨é™„åŠ 
- **å†…å­˜è½¬å‚¨**: é˜²æ­¢è¿›ç¨‹å†…å­˜è¢«è½¬å‚¨

### å®‰å…¨æœºåˆ¶
- **å¤šé‡éªŒè¯**: æ–‡ä»¶å®Œæ•´æ€§åŒé‡æ ¡éªŒ
- **æƒé™æ§åˆ¶**: æœ€å°æƒé™åŸåˆ™
- **ç™½åå•æœºåˆ¶**: å…è®¸æˆæƒæ“ä½œ
- **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„æ“ä½œå®¡è®¡
- **ç´§æ€¥ç¦ç”¨**: å®‰å…¨çš„ç¦ç”¨æœºåˆ¶

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æƒé™ä¸è¶³
```
é”™è¯¯: Access is denied.
è§£å†³: ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œç¨‹åº
```

#### 2. è¿›ç¨‹é˜²æŠ¤å¤±è´¥
```
é”™è¯¯: è®¾ç½®è¿›ç¨‹ä¿æŠ¤å¤±è´¥
è§£å†³: æ£€æŸ¥Windowsç‰ˆæœ¬å…¼å®¹æ€§ï¼Œå°è¯•é™ä½é˜²æŠ¤çº§åˆ«
```

#### 3. æ–‡ä»¶ç›‘æ§å¤±è´¥
```
é”™è¯¯: too many open files
è§£å†³: å‡å°‘ç›‘æ§æ–‡ä»¶æ•°é‡ï¼Œå¢åŠ ç³»ç»Ÿæ–‡ä»¶å¥æŸ„é™åˆ¶
```

### è°ƒè¯•æ–¹æ³•

```yaml
# å¯ç”¨è¯¦ç»†æ—¥å¿—
logging:
  level: "debug"

# ä½¿ç”¨æµ‹è¯•å·¥å…·
go run -tags="selfprotect" cmd/selfprotect-test/main.go -verbose

# æ£€æŸ¥ç³»ç»Ÿäº‹ä»¶
# Windows: äº‹ä»¶æŸ¥çœ‹å™¨ -> åº”ç”¨ç¨‹åºæ—¥å¿—
# Linux: journalctl -u kennel-agent
```

## ğŸ“š æ–‡æ¡£èµ„æº

- ğŸ“– [å®æ–½æŠ¥å‘Š](docs/self-protection-implementation-report.md) - è¯¦ç»†çš„æŠ€æœ¯å®æ–½æŠ¥å‘Š
- ğŸ“‹ [ä½¿ç”¨æŒ‡å—](docs/self-protection-usage-guide.md) - å®Œæ•´çš„ä½¿ç”¨æŒ‡å—
- ğŸ“Š [åŠŸèƒ½æ€»ç»“](docs/self-protection-summary.md) - åŠŸèƒ½ç‰¹æ€§æ€»ç»“
- ğŸ’¡ [é›†æˆç¤ºä¾‹](examples/selfprotect-integration/) - å®Œæ•´çš„é›†æˆç¤ºä¾‹
- ğŸ”§ [APIæ–‡æ¡£](docs/api-reference.md) - REST APIå‚è€ƒæ–‡æ¡£

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/lomehong/kennel.git
cd kennel

# å®‰è£…ä¾èµ–
go mod download

# è¿è¡Œæµ‹è¯•
go test -tags="selfprotect" ./...

# æ„å»ºé¡¹ç›®
.\build-with-protection.ps1 -EnableProtection -Target all
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [fsnotify](https://github.com/fsnotify/fsnotify) - æ–‡ä»¶ç³»ç»Ÿç›‘æ§
- [go-hclog](https://github.com/hashicorp/go-hclog) - ç»“æ„åŒ–æ—¥å¿—
- [gorilla/mux](https://github.com/gorilla/mux) - HTTPè·¯ç”±
- [golang.org/x/sys](https://golang.org/x/sys) - ç³»ç»Ÿè°ƒç”¨

## ğŸ“ è”ç³»æˆ‘ä»¬

- ğŸ“§ Email: support@kennel-security.com
- ğŸ› Issues: [GitHub Issues](https://github.com/lomehong/kennel/issues)
- ğŸ’¬ Discussions: [GitHub Discussions](https://github.com/lomehong/kennel/discussions)

---

<div align="center">

**ğŸ›¡ï¸ Kennelè‡ªæˆ‘é˜²æŠ¤æœºåˆ¶ - ä¸ºæ‚¨çš„ç»ˆç«¯å®‰å…¨ä¿é©¾æŠ¤èˆªï¼**

[![Stars](https://img.shields.io/github/stars/lomehong/kennel?style=social)](https://github.com/lomehong/kennel/stargazers)
[![Forks](https://img.shields.io/github/forks/lomehong/kennel?style=social)](https://github.com/lomehong/kennel/network/members)
[![Issues](https://img.shields.io/github/issues/lomehong/kennel)](https://github.com/lomehong/kennel/issues)

</div>
